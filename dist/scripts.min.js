const pokemonRepo=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=151";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(t){"object"==typeof t?e.push(t):console.error("you need an object")}const a=document.querySelector(".alpha"),i=document.querySelector(".number");function s(e){f(e).then(function(){let t=$(".modal-body"),o=$(".modal-title"),a=$(".modal-content"),i=$("<img>");i.addClass("modal-img"),i.addClass("img-fluid");let s=$("<h2>"+n(e.name)+"</h2>");s.addClass("center");let l=$("<h4>Height: "+10*e.height+" cm</h4>"),d=$("<h4>Ability: "+e.abilities+"</h4>"),c=$("<h4>Type: "+e.types[0]+"</h4>");o.empty(),t.empty(),i.attr("src",e.imageUrl);let r=e.types[0];$(t).addClass(`${r.toLowerCase()}-bg`),$(a).addClass(`${r.toLowerCase()}-bg`),$("#close").on("click",function(){$(a).removeClass(`${r.toLowerCase()}-bg`),$(t).removeClass(`${r.toLowerCase()}-bg`)}),t.addClass("${types.toLowerCase()-bg}"),a.append(o),a.append(t),t.append(s),t.append(i),t.append(c),t.append(l),t.append(d)})}function l(){let e=$(".pokedex-window"),t=$("<div></div>");t.text("Loading List!"),t.addClass("msg-board"),e.prepend(t)}function d(){window.setTimeout(function(){$(".msg-board").remove()},500)}a.addEventListener("click",function(){return l(),d(),console.log("alpha"),alphaSort=e.sort((e,t)=>e.name>t.name?1:-1),alphaSort}),i.addEventListener("click",function(){return l(),d(),console.log("id"),e.sort((e,t)=>e.id>t.id?1:-1)}),$(document).ready(function(){$("#modal").on("show.bs.modal",function(){var e=$(".modal");$(".pokedex-window-scrollbox").append(e)})}),$(document).ready(function(){$("#search-bar").on("keyup",function(){var e=$(this).val().toLowerCase();$(".pokemon-list *").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(e)>-1)})})});const c=document.querySelector(".js-header-powerbtn"),r=document.querySelector(".confirm-dialog"),u=document.querySelector(".cancel-button"),p=document.querySelector(".confirm-button"),m=document.querySelector("#overlay");function f(e){l();let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=t.height,e.base_stat=t.base_stat,e.types=t.types,e.abilities=[],t.abilities.forEach(function(t){e.abilities.push(" "+n(t.ability.name))}),e.types=[],t.types.forEach(function(t){e.types.push(" "+n(t.type.name))})}).then(function(){d()}).catch(function(e){console.error(e)})}return c.addEventListener("click",function(){"function"==typeof r.showModal&&("block"===m.style.display?m.style.display="none":(r.style.display="block",r.showModal()))}),u.addEventListener("click",function(){r.style.display="none"}),p.addEventListener("click",function(){m.style.display="block",r.style.display="none"}),{add:o,getAll:function(){return e},addListItem:function(e){let t=$(".list-group"),o=$("<li></li>");o.addClass("list-group-item"),o.addClass("list-group-action");let a=$("<button></button>");a.text(n(e.name)),a.addClass("btn"),a.addClass("btn-secondary"),a.addClass("btn-lg"),a.addClass("btn-pokemon"),a.attr("data-target","#modal"),a.attr("data-toggle","modal"),o.append(a),t.append(o),a.on("click",function(){s(e)})},loadList:function(){return l(),fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).then(function(){d()}).catch(function(e){d(),console.error(e)})},loadDetails:f,showDetails:s,hideLoading:d}}();pokemonRepo.loadList().then(function(){pokemonRepo.getAll().forEach(function(e){pokemonRepo.addListItem(e)})});